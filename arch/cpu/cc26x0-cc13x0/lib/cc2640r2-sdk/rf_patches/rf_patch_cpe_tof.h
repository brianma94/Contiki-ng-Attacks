/******************************************************************************
*  Filename:       rf_patch_cpe_tof.h
*  Revised:        $Date: 2018-05-14 22:40:22 +0200 (ma, 14 mai 2018) $
*  Revision:       $Revision: 18459 $
*
*  Description: RF core patch for supporting time-of-flight radio measurements in CC2640R2F
*
*  Copyright (c) 2015-2018, Texas Instruments Incorporated
*  All rights reserved.
*
*  Redistribution and use in source and binary forms, with or without
*  modification, are permitted provided that the following conditions are met:
*
*  1) Redistributions of source code must retain the above copyright notice,
*     this list of conditions and the following disclaimer.
*
*  2) Redistributions in binary form must reproduce the above copyright notice,
*     this list of conditions and the following disclaimer in the documentation
*     and/or other materials provided with the distribution.
*
*  3) Neither the name of the ORGANIZATION nor the names of its contributors may
*     be used to endorse or promote products derived from this software without
*     specific prior written permission.
*
*  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
*  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
*  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
*  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
*  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
*  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
*  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
*  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
*  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
*  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
*  POSSIBILITY OF SUCH DAMAGE.
*
******************************************************************************/
#ifndef _RF_PATCH_CPE_TOF_H
#define _RF_PATCH_CPE_TOF_H

//*****************************************************************************
//
// If building with a C++ compiler, make all of the definitions in this header
// have a C binding.
//
//*****************************************************************************
#ifdef __cplusplus
extern "C"
{
#endif

#include <stdint.h>
#include <string.h>

#ifndef CPE_PATCH_TYPE
#define CPE_PATCH_TYPE static const uint32_t
#endif

#ifndef SYS_PATCH_TYPE
#define SYS_PATCH_TYPE static const uint32_t
#endif

#ifndef PATCH_FUN_SPEC
#define PATCH_FUN_SPEC static inline
#endif

#ifndef _APPLY_PATCH_TAB
#define _APPLY_PATCH_TAB
#endif


CPE_PATCH_TYPE patchImageTof[] = {
   0x6ac148ff,
   0xd0fc07c9,
   0x62c32300,
   0x6a0a49fd,
   0xd0fc07d2,
   0x2101620b,
   0x60036081,
   0x48f96083,
   0x60813840,
   0x60836003,
   0x48f54770,
   0x62c12100,
   0x62012101,
   0x02004770,
   0x1d4049f2,
   0x477060c8,
   0x4bf0b510,
   0x6b9ce005,
   0xd5fc07a4,
   0x54146a9c,
   0x42881c40,
   0xbd10dbf7,
   0x2300b5ff,
   0x461449ea,
   0xb0816857,
   0x461a461d,
   0xe011684e,
   0x6acb49e4,
   0x684949e5,
   0x42811b89,
   0x2201d900,
   0x6b0949e3,
   0xd00542a9,
   0x684648e0,
   0x46384de1,
   0x460d682d,
   0xd0eb4313,
   0x6a0148db,
   0x06c96a00,
   0x06800fc9,
   0x4edc0fc0,
   0xd0012a00,
   0xd0022800,
   0xd00e2801,
   0x2900e00f,
   0x2077d10d,
   0xfc44f000,
   0x050069b0,
   0xf7ff0f00,
   0xf7ffffb8,
   0x2500ffb0,
   0x2901e00e,
   0x206ed013,
   0xfc36f000,
   0x050069b0,
   0xf7ff0f00,
   0xf7ffffaa,
   0x2001ffa2,
   0x25028130,
   0x68784fc6,
   0x99046230,
   0xd0132902,
   0x9804e01f,
   0xd1022802,
   0x684048c1,
   0x207c61a0,
   0xfc1cf000,
   0x69219804,
   0x180a0840,
   0x99022000,
   0xff92f7ff,
   0xe7e52501,
   0x2d018da1,
   0x1a41d004,
   0x2d0261f1,
   0xe004d004,
   0x31f01a41,
   0xe00061f1,
   0x8da12501,
   0x188988b2,
   0x69f11a08,
   0xb2811840,
   0xf0002070,
   0x8da2fc01,
   0x6a3488b3,
   0x69f018d1,
   0x687ce001,
   0x1a246234,
   0xd3fa428c,
   0x24009904,
   0xd0052902,
   0xd1032d01,
   0x1a086a31,
   0x1ac41a80,
   0x207bb2a1,
   0xfbe8f000,
   0x1b006a30,
   0x2d0161f0,
   0x2000d003,
   0xb00543c0,
   0x2000bdf0,
   0x49a0e7fb,
   0xd0012800,
   0xe001489f,
   0x3812489e,
   0x499c61c8,
   0x6bc83940,
   0x40104a9c,
   0x43022203,
   0x220163ca,
   0x63c84310,
   0xb5304770,
   0x01129d03,
   0x3dff022d,
   0x3a103d01,
   0x1e494315,
   0x498c430d,
   0x610d9c04,
   0x4b8a618b,
   0x3b402202,
   0x2200605a,
   0x614a620a,
   0x2c020200,
   0x1cc0d002,
   0xbd3060c8,
   0xe7fb1d00,
   0x21004881,
   0x210862c1,
   0x47706201,
   0x460fb5f8,
   0x48862400,
   0x182e00a5,
   0x1c4019e8,
   0xfb86f000,
   0x02005d79,
   0x60304308,
   0x2c021c64,
   0xbdf8dbf1,
   0x4601b510,
   0xf7ff2001,
   0x4874ffe9,
   0x38402103,
   0x60416001,
   0x20014970,
   0x60486008,
   0xb57cbd10,
   0x460d4604,
   0x084968c0,
   0xf7ff1840,
   0xf7ffffe9,
   0x486effcf,
   0x78022302,
   0x92009301,
   0x78426981,
   0x0f0e0509,
   0x21084b6e,
   0xf7ff4630,
   0x2000ffa4,
   0xff8df7ff,
   0x2d026860,
   0x8de0d100,
   0x4622462b,
   0xf7ff2101,
   0xbd7cfee5,
   0x495db5ff,
   0x20004614,
   0x684a461f,
   0x4603b081,
   0x46944606,
   0x4956e015,
   0x49576acb,
   0x46626849,
   0x99011a8a,
   0xd900428a,
   0x49542601,
   0x42856b0d,
   0x2d00d007,
   0x2001d001,
   0x2000e000,
   0xff63f7ff,
   0x43334628,
   0x484bd0e7,
   0x06c06a00,
   0x2f000fc0,
   0x4949d102,
   0x61a16849,
   0x2e004d4a,
   0x2800d001,
   0x2076d014,
   0xfb26f000,
   0x08796920,
   0x20001842,
   0xf7ff9902,
   0x2601fe9d,
   0x6840483f,
   0x78216228,
   0x433a460a,
   0x2901d00e,
   0xe01ed015,
   0xf0002073,
   0x69a8fb11,
   0x0f000500,
   0xfe85f7ff,
   0xfe7df7ff,
   0xe7e92600,
   0x2e008da1,
   0x1a41d002,
   0xe00031f0,
   0x61e91a41,
   0x78a9e009,
   0xd0062900,
   0x1a418da1,
   0x310531ff,
   0x210061e9,
   0x8da170a9,
   0x188988aa,
   0x69e91a08,
   0xb2811840,
   0xf0002072,
   0x8da2faf1,
   0x6a2c88ab,
   0x69e818d1,
   0x4c23e002,
   0x622c6864,
   0x428c1a24,
   0x2400d3f9,
   0xd0052f00,
   0xd0032e00,
   0x1a086a29,
   0x1ac41a80,
   0x2075b2a1,
   0xfad8f000,
   0x1b006a28,
   0x2e0061e8,
   0x2000d001,
   0x2000e6ef,
   0xe6ec43c0,
   0x4604b57c,
   0x68c0460d,
   0x18400849,
   0xff32f7ff,
   0xff18f7ff,
   0x23004812,
   0x93017802,
   0x69819200,
   0x05097842,
   0x4b130f0e,
   0x46302108,
   0xfeedf7ff,
   0xf7ff2000,
   0x6860fed6,
   0xd1002d00,
   0x462b8de0,
   0x21004622,
   0xff4af7ff,
   0x0000bd7c,
   0x40046000,
   0x40045040,
   0x40043000,
   0x40045280,
   0x40045180,
   0x21000df4,
   0x40044040,
   0x0001f879,
   0xfff000ff,
   0x210087a0,
   0x0000aaaa,
   0x2500b530,
   0x62254cff,
   0x3a100112,
   0x430a1e49,
   0x61a36122,
   0x1c800200,
   0x48fb60e0,
   0x60012101,
   0x61456942,
   0x32404af8,
   0x68406011,
   0x302849f6,
   0x60083180,
   0xb5f8bd30,
   0x460d4604,
   0x084968c0,
   0xf7ff1840,
   0x48f1fedb,
   0x62c12100,
   0x62012106,
   0x780348ef,
   0x69819300,
   0x05097842,
   0x4bed0f0e,
   0x46302108,
   0xffccf7ff,
   0x48eb49ec,
   0x200161c8,
   0xfe7bf7ff,
   0x4622462b,
   0x68602101,
   0xfef2f7ff,
   0xb530bdf8,
   0x4ce64bdf,
   0x4de633c0,
   0xd00e2a40,
   0x58420089,
   0x60da0c12,
   0xb2925842,
   0x1808611a,
   0x0c096841,
   0x68406361,
   0x6068b280,
   0x00c9bd30,
   0x0c125842,
   0x5842615a,
   0x619ab292,
   0x68411808,
   0x60d90c09,
   0xb2896841,
   0x68816119,
   0x49d50c0a,
   0x608a3140,
   0xb2926882,
   0x68c160ca,
   0x63610c09,
   0xe7e168c0,
   0x4606b5f0,
   0xb08748cf,
   0x25016844,
   0x402c052d,
   0xf0002078,
   0x4fccfa0f,
   0xd10242ac,
   0xb0074638,
   0x4dc2bdf0,
   0x78006968,
   0xd9032801,
   0xf0002079,
   0xe7f3fa01,
   0x204f2400,
   0x00c0616e,
   0xf00061ec,
   0x622cfa05,
   0x7f016968,
   0xd0012900,
   0x310121ff,
   0x4aba61a9,
   0x62d17f41,
   0x21207f42,
   0xd1002a00,
   0x70292140,
   0x79803020,
   0x28002102,
   0x2101d100,
   0x25014eae,
   0x70b57071,
   0xf9eef000,
   0x30206970,
   0x48a97901,
   0x61813080,
   0xf9ecf000,
   0x80b44baa,
   0x6bda3b40,
   0x43022080,
   0x49a748ac,
   0x69b04002,
   0x46302800,
   0x6900d01a,
   0x20006008,
   0x60886048,
   0x610860c8,
   0x20036148,
   0x63d84310,
   0x63da432a,
   0x499a2400,
   0x69489403,
   0x6b424625,
   0x88123020,
   0x7c409204,
   0x46264627,
   0xe1809001,
   0xe7e368c0,
   0x81102000,
   0xd1032c00,
   0x78099902,
   0xd00d2902,
   0x2100488e,
   0x98028081,
   0x90003020,
   0x08607cc1,
   0xf0009005,
   0x2900f9b5,
   0xe01ad002,
   0xe1662402,
   0x42a09803,
   0x9800d015,
   0x28007c40,
   0x9801d05b,
   0x07c09901,
   0x0fc00849,
   0x28009101,
   0x9800d003,
   0x40487c80,
   0x98009001,
   0x98017c01,
   0xf998f000,
   0x9802460e,
   0x6b409403,
   0x910200f1,
   0x99045a42,
   0xd024428a,
   0x1d899902,
   0x99025a43,
   0x1d099300,
   0x99025c43,
   0x5c421c89,
   0x1cc99902,
   0x200e5c41,
   0xf984f000,
   0x2201486d,
   0x23006940,
   0x98026b41,
   0x46115a08,
   0xf0000400,
   0xf000f97f,
   0x4870f96b,
   0x29037801,
   0x4865d1fc,
   0x8f096941,
   0x48638081,
   0x69409902,
   0x5a516b42,
   0x49609104,
   0x780a6a00,
   0xf7ff4621,
   0x4621fef4,
   0xf0002074,
   0x485bf941,
   0x80c19905,
   0x78016940,
   0xd00c2901,
   0xd0512900,
   0xd07e2902,
   0x9800e077,
   0x7c001c76,
   0x42b0b2f6,
   0x2600d8af,
   0x4621e7ad,
   0xfeb3f7ff,
   0x484eb281,
   0x69803040,
   0x69524a4d,
   0x4a4c6953,
   0x00d288d2,
   0x54981c52,
   0x30804848,
   0x23256800,
   0x4847b2c2,
   0x541a6940,
   0x48456942,
   0x00c088c0,
   0x29005416,
   0x4842d010,
   0x69422100,
   0x43c988c0,
   0x695200c0,
   0x50111d00,
   0xd1722c00,
   0x1ca4e002,
   0xe040b2a4,
   0xe03e1c7f,
   0x3a404a3e,
   0xb2c06bd0,
   0xdd002807,
   0x4d363810,
   0x6969233a,
   0x2b005c5b,
   0x2000d100,
   0x01006b92,
   0x18120212,
   0x694988e8,
   0x1d0000c0,
   0xe0a6500a,
   0xf7ff4621,
   0x492bfe15,
   0x3140b280,
   0x4a2a6989,
   0x69536952,
   0x88d24a28,
   0x1c5200d2,
   0x49265499,
   0x694a6949,
   0x88c94924,
   0x545600c9,
   0xd0222800,
   0x21004821,
   0x88c06942,
   0x00c043c9,
   0x1d006952,
   0x2c005011,
   0x1c6dd0c2,
   0x2c01b2ad,
   0xf7ffd8bb,
   0x4819fc15,
   0x8d016940,
   0xd30442a9,
   0xe013e000,
   0x42b88d40,
   0x4814d275,
   0x8d006940,
   0xd27242a8,
   0x207a4629,
   0x4810e071,
   0x69422100,
   0x695288c0,
   0x1d0000c0,
   0xe0625011,
   0xf7ff4621,
   0x4909fd1a,
   0x3140b280,
   0x4a086989,
   0x69536952,
   0x88d24a06,
   0x1c5200d2,
   0x49045499,
   0xe039e01a,
   0x40045040,
   0x40043000,
   0x40046000,
   0x21000df4,
   0x0000aaaa,
   0x0001f879,
   0x40044040,
   0x40045280,
   0x40045180,
   0x40091040,
   0x04060003,
   0x0000ff8f,
   0x2100028c,
   0x694a6949,
   0x88c94929,
   0x545600c9,
   0x68094928,
   0x4926b2cb,
   0x460a6949,
   0x71533220,
   0xd0122800,
   0x89024822,
   0xd0012a00,
   0xe0012200,
   0x43d22200,
   0x694988c0,
   0x1d0000c0,
   0x2c02500a,
   0xe755d800,
   0xb2ad1c6d,
   0x4d1be74f,
   0xb2c06be8,
   0xdd002807,
   0x7e923810,
   0x2a004b15,
   0x2000d100,
   0x01006baa,
   0x18100212,
   0x88d9694a,
   0x1d0900c9,
   0x25005050,
   0xe00ae739,
   0xb2b9e7ff,
   0xf0002071,
   0x2101f837,
   0x0449480d,
   0x480d6081,
   0x4a08e61f,
   0x90026950,
   0x42a08900,
   0xe679d900,
   0xf000206f,
   0x2101f821,
   0x04094805,
   0x20006081,
   0x0000e60f,
   0x21000df4,
   0x40046080,
   0x40045140,
   0x40041100,
   0x04030003,
   0x07810882,
   0x0ec90092,
   0x78c0ca0c,
   0x424940ca,
   0x408b3120,
   0x0211431a,
   0x06000a09,
   0x47704308,
   0x4801b403,
   0xbd019001,
   0x00003b0f,
   0x4801b403,
   0xbd019001,
   0x00003af5,
   0x4801b403,
   0xbd019001,
   0x00003fd1,
   0x4801b403,
   0xbd019001,
   0x00007b73,
   0x4801b403,
   0xbd019001,
   0x000046ab,
   0x4801b403,
   0xbd019001,
   0x00007d1f,
   0x4801b403,
   0xbd019001,
   0x00007467,
   0x4801b403,
   0xbd019001,
   0x000044a3,
   0x0001f879,
   0x0001f867,
   0x00000000,
   0x00000000,
   0x00000000,
   0x00009334,
   0x000131af,
   0x00000000,
   0x00000000,
   0x00000000,
   0x00000000,
   0x00000000,
};
#define _NWORD_PATCHIMAGE_TOF 629

#define _NWORD_PATCHSYS_TOF 0



#ifndef _TOF_SYSRAM_START
#define _TOF_SYSRAM_START 0x20000000
#endif

#ifndef _TOF_CPERAM_START
#define _TOF_CPERAM_START 0x21000000
#endif

#define _TOF_SYS_PATCH_FIXED_ADDR 0x20000000

#define _TOF_PARSER_PATCH_TAB_OFFSET 0x0350
#define _TOF_PATCH_TAB_OFFSET 0x0358
#define _TOF_IRQPATCH_OFFSET 0x03E8
#define _TOF_PATCH_VEC_OFFSET 0x0448

PATCH_FUN_SPEC void enterTofCpePatch(void)
{
#if (_NWORD_PATCHIMAGE_TOF > 0)
   uint32_t *pPatchVec = (uint32_t *) (_TOF_CPERAM_START + _TOF_PATCH_VEC_OFFSET);

   memcpy(pPatchVec, patchImageTof, sizeof(patchImageTof));
#endif
}

PATCH_FUN_SPEC void enterTofSysPatch(void)
{
}

PATCH_FUN_SPEC void configureTofPatch(void)
{

}

PATCH_FUN_SPEC void applyTofPatch(void)
{
   enterTofSysPatch();
   enterTofCpePatch();
   configureTofPatch();
}

PATCH_FUN_SPEC void refreshTofPatch(void)
{
   enterTofCpePatch();
   configureTofPatch();
}

PATCH_FUN_SPEC void rf_patch_cpe_tof(void)
{
   applyTofPatch();
}


//*****************************************************************************
//
// Mark the end of the C bindings section for C++ compilers.
//
//*****************************************************************************
#ifdef __cplusplus
}
#endif

#endif //  _RF_PATCH_CPE_TOF_H

